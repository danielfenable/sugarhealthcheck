/*
     YUI 3.15.0 (build 834026e)
     Copyright 2014 Yahoo! Inc. All rights reserved.
     Licensed under the BSD License.
     http://yuilibrary.com/license/
     */
YUI.add('datatable-base',function(Y,NAME){Y.DataTable.Base=Y.Base.create('datatable',Y.Widget,[Y.DataTable.Core],{delegate:function(){var contentBox=this.get('contentBox');return contentBox.delegate.apply(contentBox,arguments);},destructor:function(){if(this.view){this.view.destroy();}},getCell:function(){return this.view&&this.view.getCell&&this.view.getCell.apply(this.view,arguments);},getRow:function(){return this.view&&this.view.getRow&&this.view.getRow.apply(this.view,arguments);},_afterDisplayColumnsChange:function(e){this._extractDisplayColumns(e.newVal||[]);},bindUI:function(){this._eventHandles.relayCoreChanges=this.after(['columnsChange','dataChange','summaryChange','captionChange','widthChange'],Y.bind('_relayCoreAttrChange',this));},_defRenderViewFn:function(e){e.view.render();},_extractDisplayColumns:function(columns){var displayColumns=[];function process(cols){var i,len,col;for(i=0,len=cols.length;i<len;++i){col=cols[i];if(Y.Lang.isArray(col.children)){process(col.children);}else{displayColumns.push(col);}}}
process(columns);this._displayColumns=displayColumns;},initializer:function(){this.publish('renderView',{defaultFn:Y.bind('_defRenderViewFn',this)});this._extractDisplayColumns(this.get('columns')||[]);this.after('columnsChange',Y.bind('_afterDisplayColumnsChange',this));},_relayCoreAttrChange:function(e){var attr=(e.attrName==='data')?'modelList':e.attrName;this.view.set(attr,e.newVal);},renderUI:function(){var self=this,View=this.get('view');if(View){this.view=new View(Y.merge(this.getAttrs(),{host:this,container:this.get('contentBox'),modelList:this.data},this.get('viewConfig')));if(!this._eventHandles.legacyFeatureProps){this._eventHandles.legacyFeatureProps=this.view.after({renderHeader:function(e){self.head=e.view;self._theadNode=e.view.theadNode;self._tableNode=e.view.get('container');},renderFooter:function(e){self.foot=e.view;self._tfootNode=e.view.tfootNode;self._tableNode=e.view.get('container');},renderBody:function(e){self.body=e.view;self._tbodyNode=e.view.tbodyNode;self._tableNode=e.view.get('container');},renderTable:function(){var contentBox=this.get('container');self._tableNode=this.tableNode||contentBox.one('.'+this.getClassName('table')+', table');self._captionNode=this.captionNode||contentBox.one('caption');if(!self._theadNode){self._theadNode=contentBox.one('.'+this.getClassName('columns')+', thead');}
if(!self._tbodyNode){self._tbodyNode=contentBox.one('.'+this.getClassName('data')+', tbody');}
if(!self._tfootNode){self._tfootNode=contentBox.one('.'+this.getClassName('footer')+', tfoot');}}});}
this.view.addTarget(this);}},syncUI:function(){if(this.view){this.fire('renderView',{view:this.view});}},_validateView:function(val){return val===null||(Y.Lang.isFunction(val)&&val.prototype.render);}},{ATTRS:{view:{value:Y.DataTable.TableView,validator:'_validateView'},viewConfig:{}}});Y.DataTable=Y.mix(Y.Base.create('datatable',Y.DataTable.Base,[]),Y.DataTable);},'3.15.0',{"requires":["datatable-core","datatable-table","datatable-head","datatable-body","base-build","widget"],"skinnable":true});