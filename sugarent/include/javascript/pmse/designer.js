/*
     * Your installation or use of this SugarCRM file is subject to the applicable
     * terms available at
     * http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/.
     * If you do not agree to all of the applicable terms or do not have the
     * authority to bind the entity as an authorized representative, then do not
     * install or use this SugarCRM file.
     *
     * Copyright (C) SugarCRM Inc. All rights reserved.
     */
var project,canvas,PROJECT_MODULE='Leads',items,myLayout,adamUID,PROJECT_LOCKED_VARIABLES=[],PMSE_DECIMAL_SEPARATOR='.',PMSE_DESIGNER_FORM_TRANSLATIONS={ERROR_INVALID_EMAIL:translate('LBL_PMSE_ADAM_UI_ERROR_INVALID_EMAIL'),ERROR_INVALID_INTEGER:translate('LBL_PMSE_ADAM_UI_ERROR_INVALID_INTEGER'),ERROR_REQUIRED_FIELD:translate('LBL_PMSE_ADAM_UI_ERROR_REQUIRED_FIELD'),ERROR_COMPARISON:translate('LBL_PMSE_ADAM_UI_ERROR_COMPARISON'),ERROR_REGEXP:translate('LBL_PMSE_ADAM_UI_ERROR_REGEXP'),ERROR_TEXT_LENGTH:translate('LBL_PMSE_ADAM_UI_ERROR_TEXT_LENGTH'),ERROR_CHECKBOX_VALUES:translate('LBL_PMSE_ADAM_UI_ERROR_CHECKBOX_VALUES'),ERROR_TEXT:translate('LBL_PMSE_ADAM_UI_ERROR_TEXT'),ERROR_DATE:translate('LBL_PMSE_ADAM_UI_ERROR_DATE '),ERROR_PHONE:translate('LBL_PMSE_ADAM_UI_ERROR_PHONE'),ERROR_FLOAT:translate('LBL_PMSE_ADAM_UI_ERROR_FLOAT'),ERROR_DECIMAL:translate('LBL_PMSE_ADAM_UI_ERROR_DECIMAL'),ERROR_URL:translate('LBL_PMSE_ADAM_UI_ERROR_URL'),TITLE_BUSINESS_RULE_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_BUSINESS_RULE_EVALUATION'),LBL_BUSINESS:translate('LBL_PMSE_ADAM_UI_LBL_BUSINESS'),LBL_OPERATOR:translate('LBL_PMSE_ADAM_UI_LBL_OPERATOR'),LBL_UNIT:translate('LBL_PMSE_ADAM_UI_LBL_UNIT'),LBL_RESPONSE:translate('LBL_PMSE_LABEL_RESPONSE'),LBL_LOGIC_OPERATORS:translate('LBL_PMSE_ADAM_UI_LBL_LOGIC_OPERATORS'),LBL_GROUP:translate('LBL_PMSE_ADAM_UI_LBL_GROUP'),LBL_OPERATION:translate('LBL_PMSE_ADAM_UI_LBL_OPERATION'),LBL_DIRECTION:translate('LBL_PMSE_ADAM_UI_LBL_DIRECTION'),LBL_MODULE:translate('LBL_PMSE_FORM_LABEL_MODULE'),LBL_FIELD:translate('LBL_PMSE_LABEL_FIELD'),LBL_VALUE:translate('LBL_PMSE_LABEL_VALUE'),LBL_TARGET_MODULE:translate('LBL_PMSE_FORM_OPTION_TARGET_MODULE'),LBL_VARIABLE:translate('LBL_PMSE_ADAM_UI_LBL_VARIABLE'),LBL_NUMBER:translate('LBL_PMSE_ADAM_UI_LBL_NUMBER'),TITLE_MODULE_FIELD_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_MODULE_FIELD_EVALUATION'),TITLE_FORM_RESPONSE_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_FORM_RESPONSE_EVALUATION'),TITLE_SUGAR_DATE:translate('LBL_PMSE_ADAM_UI_TITLE_SUGAR_DATE'),TITLE_FIXED_DATE:translate('LBL_PMSE_ADAM_UI_TITLE_FIXED_DATE'),TITLE_UNIT_TIME:translate('LBL_PMSE_ADAM_UI_TITLE_UNIT_TIME'),LBL_FORM:translate('LBL_PMSE_LABEL_FORM'),LBL_STATUS:translate('LBL_PMSE_LABEL_STATUS'),LBL_APPROVED:translate('LBL_PMSE_LABEL_APPROVED'),LBL_REJECTED:translate('LBL_PMSE_LABEL_REJECTED'),BUTTON_SUBMIT:translate('LBL_PMSE_BUTTON_ADD'),BUTTON_CANCEL:translate('LBL_PMSE_BUTTON_CANCEL')},listPanelError=new ErrorListPanel({title:translate('LBL_PMSE_BPMN_WARNING_PANEL_TITLE'),id:'panel-Errors',onClickItem:function(listPanel,listItem,type,messageId){var shape,shapeId,canvas;canvas=jCore.getActiveCanvas();shapeId=listItem.getErrorId();shape=canvas.customShapes.find('id',shapeId);if(shape){shape.canvas.emptyCurrentSelection();shape.canvas.addToSelection(shape);if(shape.canvas.currentLabel){shape.canvas.currentLabel.loseFocus();}
shape.canvas.project.updatePropertiesGrid(shape);}}});var countErrors=document.getElementById("countErrors");var getAutoIncrementName=function(type){var i,j,k=canvas.getCustomShapes().getSize(),exists,index=1,auxMap={AdamUserTask:translate('LBL_PMSE_ADAM_DESIGNER_TASK'),AdamScriptTask:translate('LBL_PMSE_ADAM_DESIGNER_ACTION'),AdamEventLead:translate('LBL_PMSE_ADAM_DESIGNER_LEAD_START_EVENT'),AdamEventOpportunity:translate('LBL_PMSE_ADAM_DESIGNER_OPPORTUNITY_START_EVENT'),AdamEventDocument:translate('LBL_PMSE_ADAM_DESIGNER_DOCUMENT_START_EVENT'),AdamEventOtherModule:translate('LBL_PMSE_ADAM_DESIGNER_OTHER_MODULE_EVENT'),AdamEventTimer:translate('LBL_PMSE_ADAM_DESIGNER_WAIT_EVENT'),AdamEventMessage:translate('LBL_PMSE_ADAM_DESIGNER_MESSAGE_EVENT'),AdamEventReceiveMessage:translate('LBL_PMSE_ADAM_DESIGNER_MESSAGE_EVENT'),AdamEventBoundary:translate('LBL_PMSE_ADAM_DESIGNER_BOUNDARY_EVENT'),AdamGatewayExclusive:translate('LBL_PMSE_ADAM_DESIGNER_EXCLUSIVE_GATEWAY'),AdamGatewayParallel:translate('LBL_PMSE_ADAM_DESIGNER_PARALLEL_GATEWAY'),AdamEventEnd:translate('LBL_PMSE_ADAM_DESIGNER_END_EVENT'),AdamTextAnnotation:translate('LBL_PMSE_ADAM_DESIGNER_TEXT_ANNOTATION')};for(i=0;i<k;i+=1){exists=false;for(j=0;j<k;j+=1){if(canvas.getCustomShapes().get(j).getName()===auxMap[type]+" # "+(i+1)){exists=true;break;}}
if(!exists){break;}}
return auxMap[type]+" # "+(i+1);};function renderProject(prjCode){adamUID=prjCode;if($('#container').length){$('#container').height($(window).height()-$('#container').offset().top-$('#footer').height()-46);}
$(window).resize(function(){if($('#container').length){$('#container').height($(window).height()-$('#content').offset().top-$('#footer').height()-46);}});myLayout=$('#container').layout({east:{size:300,maxSize:300,minSize:200,initClosed:false,onresize:function(){listPanelError.resizeWidthTitleItems();}},north:{size:44,spacing_open:0,closable:false,slidable:false,resizable:false},north__showOverflowOnHover:true});$('#container').zIndex(1);$('.ui-layout-north').css('overflow','hidden');project=new AdamProject({metadata:[{name:"teamsDataSource",data:{url:"pmse_Project/CrmData/teams/public",root:"result"}},{name:"datePickerFormat",data:SUGAR.App.date.toDatepickerFormat(SUGAR.App.user.attributes.preferences.datepref)},{name:"fieldsDataSource",data:{url:"pmse_Project/CrmData/allRelated/{MODULE}",root:"result"}},{name:"targetModuleFieldsDataSource",data:{url:"pmse_Project/CrmData/fields/{MODULE}",root:"result"}}]});canvas=new AdamCanvas({name:'Adam',id:"jcore_designer",container:"regular",readOnly:false,drop:{type:"container",selectors:["#AdamEventDocument","#AdamEventLead","#AdamEventOpportunity","#AdamEventTimer","#AdamEventMessage","#AdamEventEnd","#AdamGatewayExclusive","#AdamGatewayParallel","#AdamUserTask","#AdamScriptTask","#AdamTextAnnotation",".custom_shape","#AdamEventReceiveMessage","#AdamEventOtherModule"]},copyAndPasteReferences:{AdamEvent:AdamEvent,AdamGateway:AdamGateway,AdamActivity:AdamActivity,AdamArtifact:AdamArtifact,AdamFlow:AdamFlow},toolbarFactory:function(id){var customShape=null,name=getAutoIncrementName(id);switch(id){case"AdamEventLead":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Leads',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-leads','adam-marker-75-start-catch-leads','adam-marker-100-start-catch-leads','adam-marker-125-start-catch-leads','adam-marker-150-start-catch-leads']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventOpportunity":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Opportunities',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-opportunities','adam-marker-75-start-catch-opportunities','adam-marker-100-start-catch-opportunities','adam-marker-125-start-catch-opportunities','adam-marker-150-start-catch-opportunities']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventDocument":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Documents',labels:[{message:'Document Start Event',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-documents','adam-marker-75-start-catch-documents','adam-marker-100-start-catch-documents','adam-marker-125-start-catch-documents','adam-marker-150-start-catch-documents']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventOtherModule":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'',labels:[{message:'Other Start Event',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-message','adam-marker-75-start-catch-message','adam-marker-100-start-catch-message','adam-marker-125-start-catch-message','adam-marker-150-start-catch-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventTimer':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'TIMER',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-timer','adam-marker-75-intermediate-catch-timer','adam-marker-100-intermediate-catch-timer','adam-marker-125-intermediate-catch-timer','adam-marker-150-intermediate-catch-timer']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventMessage':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'MESSAGE',evn_behavior:'throw',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-throw-message','adam-marker-75-intermediate-throw-message','adam-marker-100-intermediate-throw-message','adam-marker-125-intermediate-throw-message','adam-marker-150-intermediate-throw-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventReceiveMessage':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-message','adam-marker-75-intermediate-catch-message','adam-marker-100-intermediate-catch-message','adam-marker-125-intermediate-catch-message','adam-marker-150-intermediate-catch-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamUserTask':customShape=new AdamActivity({canvas:this,width:100,height:50,container:'activity',style:{cssClasses:['']},layers:[{x:-2,y:-2,layerName:"first-layer",priority:2,visible:true,style:{cssClasses:['adam-activity-task']}}],connectAtMiddlePoints:true,drag:'customshapedrag',resizeBehavior:"activityResize",resizeHandlers:{type:"Rectangle",total:8,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'},labels:[{message:"",width:0,height:0,orientation:'horizontal',position:{location:'center',diffX:0,diffY:0},updateParent:true}],markers:[{markerType:'USERTASK',x:5,y:5,markerZoomClasses:["adam-marker-50-usertask","adam-marker-75-usertask","adam-marker-100-usertask","adam-marker-125-usertask","adam-marker-150-usertask"]}],act_type:'TASK',act_task_type:'USERTASK',act_name:name,minHeight:50,minWidth:100,maxHeight:300,maxWidth:400});break;case'AdamScriptTask':customShape=new AdamActivity({canvas:this,width:35,height:35,container:'activity',style:{cssClasses:['']},layers:[{x:-2,y:-2,layerName:"first-layer",priority:2,visible:true,style:{cssClasses:['adam-activity-task']}},{x:-2,y:-2,layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-activity-scripttask-none','adam-shape-75-activity-scripttask-none','adam-shape-100-activity-scripttask-none','adam-shape-125-activity-scripttask-none','adam-shape-150-activity-scripttask-none']}],connectAtMiddlePoints:true,drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'},labels:[{message:"",position:{location:'bottom',diffX:1,diffY:4},updateParent:false}],act_type:'TASK',act_task_type:'SCRIPTTASK',act_name:name,act_script_type:'NONE'});break;case'AdamEventBoundary':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'boundary',evn_marker:'TIMER',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-timer','adam-marker-75-intermediate-catch-timer','adam-marker-100-intermediate-catch-timer','adam-marker-125-intermediate-catch-timer','adam-marker-150-intermediate-catch-timer']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventEnd':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'end',evn_marker:'EMPTY',evn_behavior:'throw',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-end','adam-shape-75-event-end','adam-shape-100-event-end','adam-shape-125-event-end','adam-shape-150-event-end']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-end-throw-empty','adam-marker-75-end-throw-empty','adam-marker-100-end-throw-empty','adam-marker-125-end-throw-empty','adam-marker-150-end-throw-empty']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamGatewayExclusive':customShape=new AdamGateway({canvas:this,width:45,height:45,gat_type:'exclusive',gat_direction:'diverging',gat_name:name,style:{cssClasses:[""]},labels:[{message:"",position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-gateway-exclusive','adam-shape-75-gateway-exclusive','adam-shape-100-gateway-exclusive','adam-shape-125-gateway-exclusive','adam-shape-150-gateway-exclusive']}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"no",resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamGatewayParallel':customShape=new AdamGateway({canvas:this,width:45,height:45,gat_type:'parallel',gat_direction:'diverging',gat_name:name,style:{cssClasses:[""]},labels:[{message:"",position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-gateway-parallel','adam-shape-75-gateway-parallel','adam-shape-100-gateway-parallel','adam-shape-125-gateway-parallel','adam-shape-150-gateway-parallel']}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"no",resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamTextAnnotation":customShape=new AdamArtifact({canvas:this,width:100,height:50,style:{cssClasses:[]},layers:[{layerName:"first-layer",priority:2,visible:true}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"adamArtifactResize",resizeHandlers:{type:"Rectangle",total:8,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},labels:[{message:"",width:0,height:0,position:{location:'center',diffX:0,diffY:0},updateParent:true}],drop:{type:'connection'},art_type:'TEXTANNOTATION',art_name:name});break;}
return customShape;}});canvas.attachListeners();jCore.setActiveCanvas(canvas);$("#adam_toolbar span[type=draggable]").draggable({revert:"invalid",helper:function(){return $(this).clone().appendTo('body').css('zIndex',5).show();},cursor:"move"});/*var ieOrigin,baseUrl;if(!window.location.origin){ieOrigin=window.location.protocol+"//"+window.location.hostname+(window.location.port?':'+window.location.port:'');}
baseUrl=App.config.siteUrl||(window.location.origin||ieOrigin)+window.location.pathname;window.location=baseUrl;*});*/
$('#ProjectTitle').hover(function(e){$('.icon-edit-title').css('display','block');},function(e){$('.icon-edit-title').css('display','none');}).click(function(e){e.preventDefault();$('#ProjectTitle').css('display','none');$('.icon-edit-title').css('display','block');$('#txt-title').css('display','block').focus().val($('#ProjectTitle').html());});var save_name=function(){$('#ProjectTitle').css('display','block');$('#txt-title').css('display','none');if($('#ProjectTitle').html()!=$('#txt-title').val()){$('#ProjectTitle').html(Handlebars.Utils.escapeExpression($('#txt-title').val()));url=App.api.buildURL('pmse_Project',null,{id:project.uid});attributes={name:Handlebars.Utils.escapeExpression($('#txt-title').val())};App.alert.show('saving',{level:'process',title:'LBL_SAVING',autoclose:false});App.api.call('update',url,attributes,{success:function(data){App.alert.dismiss('saving');},error:function(err){}});}};$('#txt-title').focusout(function(e){if($('#txt-title').val()!==''){save_name();}}).keypress(function(e){if(e.which==13){if($.trim(this.value)!=''){App.alert.dismiss('error-project-name');save_name();}
else{App.alert.show('error-project-name',{level:'warning',messages:translate('LBL_PMSE_PROJECT_NAME_EMPTY','pmse_Project'),autoClose:false});}}});$('#ButtonUndo').click(function(){jCore.getActiveCanvas().commandStack.undo();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonRedo').click(function(){jCore.getActiveCanvas().commandStack.redo();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonSave').click(function(){project.save();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#zoom').change(function(e){var newZoomValue;newZoomValue=parseInt($(this).val());jCore.getActiveCanvas().applyZoom(newZoomValue);jCore.getActiveCanvas().bpmnValidation();$('.ui-layout-north').css('overflow','hidden');}).mouseenter(function(){$('.ui-layout-north').css('overflow','visible');});project.setUid(prjCode);project.setSaveInterval(20000);project.setCanvas(canvas);project.load(prjCode,{success:function(){$.extend(canvas,{'name':project.name});PROJECT_MODULE=project.process_definition.pro_module;project.init();}});App.utils.tooltip.initialize($("#AdamEventLead"));App.utils.tooltip.initialize($("#AdamEventOpportunity"));App.utils.tooltip.initialize($("#AdamEventDocument"));App.utils.tooltip.initialize($("#AdamEventOtherModule"));App.utils.tooltip.initialize($("#AdamEventTimer"));App.utils.tooltip.initialize($("#AdamEventReceiveMessage"));App.utils.tooltip.initialize($("#AdamEventMessage"));App.utils.tooltip.initialize($("#AdamUserTask"));App.utils.tooltip.initialize($("#AdamScriptTask"));App.utils.tooltip.initialize($("#AdamGatewayExclusive"));App.utils.tooltip.initialize($("#AdamGatewayParallel"));App.utils.tooltip.initialize($("#AdamEventEnd"));App.utils.tooltip.initialize($("#AdamTextAnnotation"));App.utils.tooltip.initialize($("#ButtonUndo"));App.utils.tooltip.initialize($("#ButtonRedo"));App.utils.tooltip.initialize($("#ButtonSave"));}
listPanelError.appendTo("#div-bpmn-error");